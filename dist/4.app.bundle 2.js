(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{51:function(t){t.exports=JSON.parse('{"credentials":{"request":{"Authorization":"Token 068974287044a75139e0f34928ed3647"},"developer":{"Authorization":"Token cec759081523e1b5de6efe181a58a5d6"}},"endPoints":{"DIALOG":"https://api.cai.tools.sap/build/v1/dialog","REQUEST_ENDPOINT":"https://api.cai.tools.sap/v2/request","CONVERSE_ENDPOINT":"https://api.cai.tools.sap/v2/converse","DIALOG_ENDPOINT":"https://api.cai.tools.sap/build/v1","CONVERSATION_ENDPOINT":"https://api.cai.tools.sap/connect/v1/messages","MESSAGE_ENDPOINT":"https://api.cai.tools.sap/connect/v1/conversations/:conversation_id/messages","TRAIN_ENDPOINT":"https://api.cai.tools.sap/v2"}}')},87:function(t,e,s){"use strict";s.r(e),s.d(e,"sendDialog",(function(){return a})),s.d(e,"getSimplifiedLastDialog",(function(){return i})),s.d(e,"getDebug",(function(){return r})),s.d(e,"getLog",(function(){return c}));var n=s(51);let o=null;const a=async t=>{null==o&&(o=function(t){return Math.floor(Math.random()*Math.floor(t))}(999999));const e={message:{type:"text",content:t},language:"en",conversation_id:o},s={"Content-Type":"application/json",Accept:"application/json",Authorization:n.credentials.developer.Authorization};try{const t=await fetch(n.endPoints.DIALOG,{method:"POST",headers:s,body:JSON.stringify(e)});return await t.json()}catch(t){return console.log(t),t}},i=t=>{let e="";for(const s of t.results.messages)e+=s.content;return{user:{text:t.results.nlp.source},bot:{text:e,intent:t.results.nlp.intents[0].slug,subjects:t.subjects}}},r=t=>{const e=t.results.nlp;e.entitiesArray=[];for(const t in e.entities)for(const s of e.entities[t])s.name=t,e.entitiesArray.push(s);return e},c=(t,e)=>({agent:t,type:"reacast",language:e.results.conversation.language,conversation:e.results.conversation,messages:e.results.messages,nlp:e.results.nlp});e.default={sendDialog:a,getSimplifiedLastDialog:i,getDebug:r,getLog:c}}}]);